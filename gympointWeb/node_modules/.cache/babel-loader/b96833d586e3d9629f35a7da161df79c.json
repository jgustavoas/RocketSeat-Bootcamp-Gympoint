{"ast":null,"code":"import _slicedToArray from \"/home/gustavo/Rocketseat/Bootcamp/Gympoint/gympointWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/gustavo/Rocketseat/Bootcamp/Gympoint/gympointWeb/src/pages/HelpOrders/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { format, parseISO } from 'date-fns';\nimport { zonedTimeToUtc } from 'date-fns-tz';\nimport pt from 'date-fns/locale/pt';\nimport api from \"../../services/api\";\nexport default function Dashboard() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        helpOrders = _useState2[0],\n        setHelpOrders = _useState2[1];\n\n  const _useState3 = useState({\n    studentName: null,\n    studentQuestion: null,\n    questionDate: new Date()\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        student = _useState4[0],\n        setStudent = _useState4[1];\n\n  const studentName = student.studentName,\n        studentQuestion = student.studentQuestion,\n        questionDate = student.questionDate;\n  const questionDateFormat = format(parseISO(questionDate), 'yyyy-MM-dd', {\n    locale: pt\n  });\n  /* const [date, setDate] = useState(new Date());\n  const dateFormatted = useMemo(\n    () => format(date, \"d 'de' MMMM\", { locale: pt }),\n    [date]\n  ); */\n\n  useEffect(() => {\n    async function loadHelpOrders() {\n      const response = await api.get('help-orders');\n      setHelpOrders(response.data);\n    }\n\n    loadHelpOrders();\n  }, []);\n\n  function displayToggleSwitch(hiding, showing) {\n    const toHide = document.getElementById(hiding);\n    const toShow = document.getElementById(showing);\n    toShow.style.display = 'block';\n    toHide.style.display = 'none';\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Pedidos de aux\\xEDlio\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    id: \"helpOrderForm\",\n    style: {\n      display: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Em \", questionDateFormat, \", \", studentName, \" perguntou:\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, studentQuestion), React.createElement(\"textarea\", {\n    placeholder: \"Resposta da equipe Gympoint...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"greyButton\",\n    type: \"button\",\n    onClick: () => displayToggleSwitch('helpOrderForm', 'helpOrderTable'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Voltar para a lista\"), React.createElement(\"button\", {\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Responder agora\"))), React.createElement(\"table\", {\n    id: \"helpOrderTable\",\n    style: {\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"ALUNO\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  })), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, helpOrders.map(helpOrder => React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    style: {\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, helpOrder.student), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: function () {\n      displayToggleSwitch('helpOrderTable', 'helpOrderForm');\n      setStudent({\n        studentName: helpOrder.student,\n        studentQuestion: helpOrder.question,\n        questionDate: helpOrder.createdAt\n      });\n    },\n    type: \"button\",\n    className: \"blueMinimalButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"responder\"))))))));\n}","map":{"version":3,"sources":["/home/gustavo/Rocketseat/Bootcamp/Gympoint/gympointWeb/src/pages/HelpOrders/index.js"],"names":["React","useState","useEffect","format","parseISO","zonedTimeToUtc","pt","api","Dashboard","helpOrders","setHelpOrders","studentName","studentQuestion","questionDate","Date","student","setStudent","questionDateFormat","locale","loadHelpOrders","response","get","data","displayToggleSwitch","hiding","showing","toHide","document","getElementById","toShow","style","display","width","map","helpOrder","question","createdAt"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport { format, parseISO } from 'date-fns';\nimport { zonedTimeToUtc } from 'date-fns-tz';\nimport pt from 'date-fns/locale/pt';\n\nimport api from '~/services/api';\n\nexport default function Dashboard() {\n  const [helpOrders, setHelpOrders] = useState([]);\n  const [student, setStudent] = useState({\n    studentName: null,\n    studentQuestion: null,\n    questionDate: new Date(),\n  });\n  const { studentName, studentQuestion, questionDate } = student;\n\n  const questionDateFormat = format(parseISO(questionDate), 'yyyy-MM-dd', {\n    locale: pt,\n  });\n\n  /* const [date, setDate] = useState(new Date());\n  const dateFormatted = useMemo(\n    () => format(date, \"d 'de' MMMM\", { locale: pt }),\n    [date]\n  ); */\n\n  useEffect(() => {\n    async function loadHelpOrders() {\n      const response = await api.get('help-orders');\n      setHelpOrders(response.data);\n    }\n\n    loadHelpOrders();\n  }, []);\n\n  function displayToggleSwitch(hiding, showing) {\n    const toHide = document.getElementById(hiding);\n    const toShow = document.getElementById(showing);\n\n    toShow.style.display = 'block';\n    toHide.style.display = 'none';\n  }\n\n  return (\n    <>\n      <header>\n        <h1>Pedidos de aux√≠lio</h1>\n      </header>\n      <div>\n        <form id='helpOrderForm' style={{ display: 'none' }}>\n          <h2>\n            Em {questionDateFormat}, {studentName} perguntou:\n          </h2>\n          <p>{studentQuestion}</p>\n          <textarea placeholder='Resposta da equipe Gympoint...' />\n          <div>\n            <button\n              className='greyButton'\n              type='button'\n              onClick={() =>\n                displayToggleSwitch('helpOrderForm', 'helpOrderTable')\n              }\n            >\n              Voltar para a lista\n            </button>\n            <button type='button'>Responder agora</button>\n          </div>\n        </form>\n        <table id='helpOrderTable' style={{ width: '100%' }}>\n          <thead>\n            <td>ALUNO</td>\n            <td />\n          </thead>\n          <tbody>\n            {helpOrders.map(helpOrder => (\n              <tr>\n                <td style={{ width: '100%' }}>{helpOrder.student}</td>\n                <td>\n                  <button\n                    onClick={function() {\n                      displayToggleSwitch('helpOrderTable', 'helpOrderForm');\n                      setStudent({\n                        studentName: helpOrder.student,\n                        studentQuestion: helpOrder.question,\n                        questionDate: helpOrder.createdAt,\n                      });\n                    }}\n                    type='button'\n                    className='blueMinimalButton'\n                  >\n                    responder\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}